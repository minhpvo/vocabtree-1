<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>vocabtree: InvertedIndex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">vocabtree
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classInvertedIndex.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">InvertedIndex Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements a Bag of Words based (BoW) image search using an inverted index.  
 <a href="classInvertedIndex.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="inverted__index_8hpp_source.html">inverted_index.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for InvertedIndex:</div>
<div class="dyncontent">
<div class="center"><img src="classInvertedIndex__inherit__graph.png" border="0" usemap="#InvertedIndex_inherit__map" alt="Inheritance graph"/></div>
<map name="InvertedIndex_inherit__map" id="InvertedIndex_inherit__map">
<area shape="rect" id="node2" href="classSearchBase.html" title="Abstract class from which all search structures and methods derive from." alt="" coords="9,5,103,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for InvertedIndex:</div>
<div class="dyncontent">
<div class="center"><img src="classInvertedIndex__coll__graph.png" border="0" usemap="#InvertedIndex_coll__map" alt="Collaboration graph"/></div>
<map name="InvertedIndex_coll__map" id="InvertedIndex_coll__map">
<area shape="rect" id="node2" href="classSearchBase.html" title="Abstract class from which all search structures and methods derive from." alt="" coords="9,5,103,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInvertedIndex_1_1MatchResults.html">MatchResults</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclass of match results base which also returns scores.  <a href="structInvertedIndex_1_1MatchResults.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInvertedIndex_1_1SearchParams.html">SearchParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclass of train params base which specifies inverted index training parameters.  <a href="structInvertedIndex_1_1SearchParams.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structInvertedIndex_1_1TrainParams.html">TrainParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclass of train params base which specifies inverted index training parameters.  <a href="structInvertedIndex_1_1TrainParams.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a29cb6e37c9bf93ac94c2c6985c4224a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInvertedIndex.html#a29cb6e37c9bf93ac94c2c6985c4224a8">InvertedIndex</a> ()</td></tr>
<tr class="separator:a29cb6e37c9bf93ac94c2c6985c4224a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f81ab03c477a2813c95334473c8e95"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInvertedIndex.html#ae3f81ab03c477a2813c95334473c8e95">train</a> (const std::shared_ptr&lt; const <a class="el" href="structTrainParamsBase.html">TrainParamsBase</a> &gt; &amp;params, const std::vector&lt; std::shared_ptr&lt; const <a class="el" href="classImage.html">Image</a> &gt; &gt; &amp;examples)</td></tr>
<tr class="memdesc:ae3f81ab03c477a2813c95334473c8e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of training parameters, list of images, trains.  <a href="#ae3f81ab03c477a2813c95334473c8e95">More...</a><br/></td></tr>
<tr class="separator:ae3f81ab03c477a2813c95334473c8e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815b5aaa4565500df3aa2eb92f865535"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInvertedIndex.html#a815b5aaa4565500df3aa2eb92f865535">load</a> (const std::string &amp;file_path)</td></tr>
<tr class="memdesc:a815b5aaa4565500df3aa2eb92f865535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a trained search structure from the input filepath.  <a href="#a815b5aaa4565500df3aa2eb92f865535">More...</a><br/></td></tr>
<tr class="separator:a815b5aaa4565500df3aa2eb92f865535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3864d16c75319e4d38d03145ad3dcc5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInvertedIndex.html#a3864d16c75319e4d38d03145ad3dcc5f">save</a> (const std::string &amp;file_path) const </td></tr>
<tr class="memdesc:a3864d16c75319e4d38d03145ad3dcc5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves a trained search structure to the input filepath.  <a href="#a3864d16c75319e4d38d03145ad3dcc5f">More...</a><br/></td></tr>
<tr class="separator:a3864d16c75319e4d38d03145ad3dcc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f42b2552e9618c7fc0f5f36b365ca7"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structMatchResultsBase.html">MatchResultsBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInvertedIndex.html#ae7f42b2552e9618c7fc0f5f36b365ca7">search</a> (const std::shared_ptr&lt; const <a class="el" href="structSearchParamsBase.html">SearchParamsBase</a> &gt; &amp;params, const std::shared_ptr&lt; const <a class="el" href="classImage.html">Image</a> &gt; &amp;example)</td></tr>
<tr class="memdesc:ae7f42b2552e9618c7fc0f5f36b365ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of search parameters, a query image, searches for matching images and returns the match.  <a href="#ae7f42b2552e9618c7fc0f5f36b365ca7">More...</a><br/></td></tr>
<tr class="separator:ae7f42b2552e9618c7fc0f5f36b365ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSearchBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSearchBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSearchBase.html">SearchBase</a></td></tr>
<tr class="memitem:aa391cf064522f21c45f211da66882463 inherit pub_methods_classSearchBase"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSearchBase.html#aa391cf064522f21c45f211da66882463">~SearchBase</a> ()</td></tr>
<tr class="separator:aa391cf064522f21c45f211da66882463 inherit pub_methods_classSearchBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090a073fa0e68e1b6fbd24def21f9d0c inherit pub_methods_classSearchBase"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="structMatchResultsBase.html">MatchResultsBase</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSearchBase.html#a090a073fa0e68e1b6fbd24def21f9d0c">search</a> (const std::shared_ptr&lt; <a class="el" href="structSearchParamsBase.html">SearchParamsBase</a> &gt; &amp;params, const std::vector&lt; std::shared_ptr&lt; const <a class="el" href="classImage.html">Image</a> &gt; &gt; &amp;examples)</td></tr>
<tr class="memdesc:a090a073fa0e68e1b6fbd24def21f9d0c inherit pub_methods_classSearchBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of search parameters, list of query images, searches for matching images and returns the result matches.  <a href="#a090a073fa0e68e1b6fbd24def21f9d0c">More...</a><br/></td></tr>
<tr class="separator:a090a073fa0e68e1b6fbd24def21f9d0c inherit pub_methods_classSearchBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements a Bag of Words based (BoW) image search using an inverted index. </p>
<p>The inverted index keeps track of a list of images associated with each visual word. The images are represented as an unsigned long long which must then be translated back to an actual image using the appropriate Dataset class implementation. </p>

<p>Definition at line <a class="el" href="inverted__index_8hpp_source.html#l00009">9</a> of file <a class="el" href="inverted__index_8hpp_source.html">inverted_index.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a29cb6e37c9bf93ac94c2c6985c4224a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InvertedIndex::InvertedIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="inverted__index_8cxx_source.html#l00004">4</a> of file <a class="el" href="inverted__index_8cxx_source.html">inverted_index.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                             : <a class="code" href="classSearchBase.html" title="Abstract class from which all search structures and methods derive from.">SearchBase</a>() {</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a815b5aaa4565500df3aa2eb92f865535"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool InvertedIndex::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads a trained search structure from the input filepath. </p>

<p>Implements <a class="el" href="classSearchBase.html#a8af6d745f82a66b25fcf8cc012ff6e3e">SearchBase</a>.</p>

<p>Definition at line <a class="el" href="inverted__index_8cxx_source.html#l00009">9</a> of file <a class="el" href="inverted__index_8cxx_source.html">inverted_index.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                                                    {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Reading inverted index from &quot;</span> &lt;&lt; file_path &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        <span class="comment">// code here</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Done reading inverted index.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3864d16c75319e4d38d03145ad3dcc5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool InvertedIndex::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves a trained search structure to the input filepath. </p>

<p>Implements <a class="el" href="classSearchBase.html#ae221617eb05aa616397da75fa1760345">SearchBase</a>.</p>

<p>Definition at line <a class="el" href="inverted__index_8cxx_source.html#l00020">20</a> of file <a class="el" href="inverted__index_8cxx_source.html">inverted_index.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                                                          {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Writing inverted index to &quot;</span> &lt;&lt; file_path &lt;&lt; <span class="stringliteral">&quot;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="comment">// code here</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Done writing inverted index.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7f42b2552e9618c7fc0f5f36b365ca7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structMatchResultsBase.html">MatchResultsBase</a> &gt; InvertedIndex::search </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="structSearchParamsBase.html">SearchParamsBase</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="classImage.html">Image</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>example</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of search parameters, a query image, searches for matching images and returns the match. </p>

<p>Implements <a class="el" href="classSearchBase.html#ad624acf4e4f788345f45c6a0e5920093">SearchBase</a>.</p>

<p>Definition at line <a class="el" href="inverted__index_8cxx_source.html#l00050">50</a> of file <a class="el" href="inverted__index_8cxx_source.html">inverted_index.cxx</a>.</p>

<p>Referenced by <a class="el" href="inverted__index__simple_8cxx_source.html#l00022">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                                                                                                                      {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Searching for matching images...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;const SearchParams&gt; &amp;ii_params = std::static_pointer_cast&lt;<span class="keyword">const</span> SearchParams&gt;(params);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        std::shared_ptr&lt;MatchResults&gt; match_result = std::make_shared&lt;MatchResults&gt;();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="comment">// returns zero as the only match with a score of zero</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        match_result-&gt;tfidf_scores.push_back(0.f);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        match_result-&gt;matches.push_back(0);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">return</span> (std::shared_ptr&lt;MatchResultsBase&gt;)match_result;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3f81ab03c477a2813c95334473c8e95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool InvertedIndex::train </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="structTrainParamsBase.html">TrainParamsBase</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::shared_ptr&lt; const <a class="el" href="classImage.html">Image</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>examples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of training parameters, list of images, trains. </p>
<p>Returns true if successful, false if not successful. </p>

<p>Implements <a class="el" href="classSearchBase.html#a83240f56d0981d5eb33cbe9068a79d1e">SearchBase</a>.</p>

<p>Definition at line <a class="el" href="inverted__index_8cxx_source.html#l00030">30</a> of file <a class="el" href="inverted__index_8cxx_source.html">inverted_index.cxx</a>.</p>

<p>References <a class="el" href="inverted__index_8hpp_source.html#l00014">InvertedIndex::TrainParams::numClusters</a>.</p>

<p>Referenced by <a class="el" href="inverted__index__simple_8cxx_source.html#l00022">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                                                                                                                                       {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;const TrainParams&gt; &amp;ii_params = std::static_pointer_cast&lt;<span class="keyword">const</span> TrainParams&gt;(params);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        uint32_t k = ii_params-&gt;numClusters;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        uint32_t n = ii_params-&gt;numFeatures;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Training inverted index with &quot;</span> &lt;&lt; k &lt;&lt; <span class="stringliteral">&quot; clusters on &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; features.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Reading features from disk...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;examples.size(); i++) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                <span class="keyword">const</span> std::string sift_feat_path = examples[i]-&gt;feature_path(<span class="stringliteral">&quot;sift&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                <span class="comment">//load sift</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                <span class="comment">// push back feature</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Clustering...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="comment">// cluster all features</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Done training inverted index.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/psastras/vocabtree/modules/search/inverted_index/<a class="el" href="inverted__index_8hpp_source.html">inverted_index.hpp</a></li>
<li>/home/psastras/vocabtree/modules/search/inverted_index/<a class="el" href="inverted__index_8cxx_source.html">inverted_index.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classInvertedIndex.html">InvertedIndex</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
