<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>vocabtree: MatchesPage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">vocabtree
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classMatchesPage.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">MatchesPage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classMatchesPage.html" title="MatchesPage class keeps track of query images and their matches, and outputs an html page containing ...">MatchesPage</a> class keeps track of query images and their matches, and outputs an html page containing these matches for visualization purposes.  
 <a href="classMatchesPage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="matches__page_8hpp_source.html">matches_page.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a88d5e20360d4c345e5f81bfa2bf275e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a88d5e20360d4c345e5f81bfa2bf275e9">MatchesPage</a> (uint32_t max_matches_per_page=16, uint32_t max_images_per_match=16)</td></tr>
<tr class="memdesc:a88d5e20360d4c345e5f81bfa2bf275e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ctor, max_matches_per_page specified the max number of rows per page, if this is set too high, the web browser might have problems loading the page.  <a href="#a88d5e20360d4c345e5f81bfa2bf275e9">More...</a><br/></td></tr>
<tr class="separator:a88d5e20360d4c345e5f81bfa2bf275e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d81abe2cc3bbd4395bb8cba6dd6214"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a32d81abe2cc3bbd4395bb8cba6dd6214">~MatchesPage</a> ()</td></tr>
<tr class="separator:a32d81abe2cc3bbd4395bb8cba6dd6214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701caedfb7a1f46a2e710ac8d8cd31a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a701caedfb7a1f46a2e710ac8d8cd31a5">add_match</a> (uint32_t query_id, std::vector&lt; uint64_t &gt; &amp;match_ids, const <a class="el" href="classDataset.html">Dataset</a> &amp;dataset, std::shared_ptr&lt; std::vector&lt; int &gt; &gt; validated=nullptr)</td></tr>
<tr class="memdesc:a701caedfb7a1f46a2e710ac8d8cd31a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a match to the html_strings variable which will be written as html on <a class="el" href="classMatchesPage.html#a6899a6eba95103363da7a6fc9f5c2ae9" title="Writes out all the html match mages to the input specified folder.">write()</a>.  <a href="#a701caedfb7a1f46a2e710ac8d8cd31a5">More...</a><br/></td></tr>
<tr class="separator:a701caedfb7a1f46a2e710ac8d8cd31a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6899a6eba95103363da7a6fc9f5c2ae9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a6899a6eba95103363da7a6fc9f5c2ae9">write</a> (const std::string &amp;folder) const </td></tr>
<tr class="memdesc:a6899a6eba95103363da7a6fc9f5c2ae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes out all the html match mages to the input specified folder.  <a href="#a6899a6eba95103363da7a6fc9f5c2ae9">More...</a><br/></td></tr>
<tr class="separator:a6899a6eba95103363da7a6fc9f5c2ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a254f34e89b0de9ba0ffe126a181f5f98"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a254f34e89b0de9ba0ffe126a181f5f98">stylesheet</a> () const </td></tr>
<tr class="separator:a254f34e89b0de9ba0ffe126a181f5f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c6742d8e6513b3771d1413678147a11"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a2c6742d8e6513b3771d1413678147a11">header</a> () const </td></tr>
<tr class="memdesc:a2c6742d8e6513b3771d1413678147a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string containing css stylesheet.  <a href="#a2c6742d8e6513b3771d1413678147a11">More...</a><br/></td></tr>
<tr class="separator:a2c6742d8e6513b3771d1413678147a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb451523f8e99f8182882dfd2a511972"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#acb451523f8e99f8182882dfd2a511972">footer</a> () const </td></tr>
<tr class="memdesc:acb451523f8e99f8182882dfd2a511972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string containing the html header.  <a href="#acb451523f8e99f8182882dfd2a511972">More...</a><br/></td></tr>
<tr class="separator:acb451523f8e99f8182882dfd2a511972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9629dc607640bcda4c71097e50aac98c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a9629dc607640bcda4c71097e50aac98c">navbar</a> (uint32_t cur_page, uint32_t max_pages) const </td></tr>
<tr class="memdesc:a9629dc607640bcda4c71097e50aac98c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string containing the html footer.  <a href="#a9629dc607640bcda4c71097e50aac98c">More...</a><br/></td></tr>
<tr class="separator:a9629dc607640bcda4c71097e50aac98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2633c2ff66dea20f3c9fa0fee5541d1f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a2633c2ff66dea20f3c9fa0fee5541d1f">pagename</a> (uint32_t cur_page) const </td></tr>
<tr class="memdesc:a2633c2ff66dea20f3c9fa0fee5541d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string containing the navbar needed for pagination.  <a href="#a2633c2ff66dea20f3c9fa0fee5541d1f">More...</a><br/></td></tr>
<tr class="separator:a2633c2ff66dea20f3c9fa0fee5541d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a145fbdd474e1ef37ca8ded494e5d2743"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#a145fbdd474e1ef37ca8ded494e5d2743">html_strings</a></td></tr>
<tr class="memdesc:a145fbdd474e1ef37ca8ded494e5d2743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string containing the pagename (ex. matches_00001.html)  <a href="#a145fbdd474e1ef37ca8ded494e5d2743">More...</a><br/></td></tr>
<tr class="separator:a145fbdd474e1ef37ca8ded494e5d2743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2026dec02840e7a1806a5d25350833b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#ad2026dec02840e7a1806a5d25350833b">max_matches_per_page_</a></td></tr>
<tr class="memdesc:ad2026dec02840e7a1806a5d25350833b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the html strings for each match passed into add_match.  <a href="#ad2026dec02840e7a1806a5d25350833b">More...</a><br/></td></tr>
<tr class="separator:ad2026dec02840e7a1806a5d25350833b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1d37e2deb0b543486a62fd74327295"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatchesPage.html#aea1d37e2deb0b543486a62fd74327295">max_images_per_match_</a></td></tr>
<tr class="separator:aea1d37e2deb0b543486a62fd74327295"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classMatchesPage.html" title="MatchesPage class keeps track of query images and their matches, and outputs an html page containing ...">MatchesPage</a> class keeps track of query images and their matches, and outputs an html page containing these matches for visualization purposes. </p>

<p>Definition at line <a class="el" href="matches__page_8hpp_source.html#l00008">8</a> of file <a class="el" href="matches__page_8hpp_source.html">matches_page.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a88d5e20360d4c345e5f81bfa2bf275e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatchesPage::MatchesPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_matches_per_page</em> = <code>16</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_images_per_match</em> = <code>16</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ctor, max_matches_per_page specified the max number of rows per page, if this is set too high, the web browser might have problems loading the page. </p>
<p>max_images_per_match specifies the max number of images in each row. If this is set too high, the web browser might have problems loading the page. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00010">10</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>References <a class="el" href="matches__page_8hpp_source.html#l00041">max_images_per_match_</a>, and <a class="el" href="matches__page_8hpp_source.html#l00041">max_matches_per_page_</a>.</p>
<div class="fragment"><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        <a class="code" href="classMatchesPage.html#ad2026dec02840e7a1806a5d25350833b" title="Holds the html strings for each match passed into add_match.">max_matches_per_page_</a> = max_matches_per_page;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        <a class="code" href="classMatchesPage.html#aea1d37e2deb0b543486a62fd74327295">max_images_per_match_</a> = max_images_per_match;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32d81abe2cc3bbd4395bb8cba6dd6214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MatchesPage::~MatchesPage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00015">15</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                          {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a701caedfb7a1f46a2e710ac8d8cd31a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatchesPage::add_match </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>query_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>match_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDataset.html">Dataset</a> &amp;&#160;</td>
          <td class="paramname"><em>dataset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; int &gt; &gt;&#160;</td>
          <td class="paramname"><em>validated</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a match to the html_strings variable which will be written as html on <a class="el" href="classMatchesPage.html#a6899a6eba95103363da7a6fc9f5c2ae9" title="Writes out all the html match mages to the input specified folder.">write()</a>. </p>
<p>The query_id is the id of the image query. match_ids are the ids of the matches. Finally, dataset is used to figure out the image paths. If validated vector is provided, the web page will highlight validated matches, values should be zero if unvalidated, </p>
<blockquote class="doxtable">
<p>0 if validated, and &lt; 0 if failed validation. The validation vector can be smaller</p>
<p></p>
</blockquote>
<p>than the size of match_ids, in which case it is assumed to correspond to beginning of match_ids. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00019">19</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>References <a class="el" href="matches__page_8hpp_source.html#l00039">html_strings</a>, <a class="el" href="classDataset.html#a2b025f14638b6503644fe4bd98c7617a">Dataset::image()</a>, <a class="el" href="dataset_8cxx_source.html#l00017">Dataset::location()</a>, and <a class="el" href="matches__page_8hpp_source.html#l00041">max_images_per_match_</a>.</p>

<p>Referenced by <a class="el" href="bench__search_8cxx_source.html#l00027">bench_oxford()</a>, <a class="el" href="bench__all_8cxx_source.html#l00125">benchmark_dataset()</a>, and <a class="el" href="vocab__tree__simple_8cxx_source.html#l00012">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                                                   {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        std::stringstream html_string;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        html_string &lt;&lt; <span class="stringliteral">&quot;&lt;table&gt;&lt;tr&gt;&quot;</span>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        html_string &lt;&lt; <span class="stringliteral">&quot;&lt;td&gt;&lt;img src=&#39;&quot;</span> &lt;&lt; dataset.<a class="code" href="classDataset.html#a1be6c736cec176a950234ea610abf3e5" title="Returns the absolute path of the data directory.">location</a>(dataset.<a class="code" href="classDataset.html#a2b025f14638b6503644fe4bd98c7617a" title="Given a unique integer ID, returns an Image associated with that ID.">image</a>(query_id)-&gt;location()) &lt;&lt; <span class="stringliteral">&quot;&#39; /&gt;&lt;/td&gt;&lt;td&gt; &lt;/td&gt;&quot;</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt; MIN(match_ids.size(), <a class="code" href="classMatchesPage.html#aea1d37e2deb0b543486a62fd74327295">max_images_per_match_</a>); i++) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                std::shared_ptr&lt;Image&gt; image =  dataset.<a class="code" href="classDataset.html#a2b025f14638b6503644fe4bd98c7617a" title="Given a unique integer ID, returns an Image associated with that ID.">image</a>(match_ids[i]);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                <span class="keyword">const</span> std::string &amp;impath = dataset.<a class="code" href="classDataset.html#a1be6c736cec176a950234ea610abf3e5" title="Returns the absolute path of the data directory.">location</a>(image-&gt;location());</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                <span class="keywordflow">if</span>(validated == <span class="keyword">nullptr</span> || i &gt;= validated-&gt;size()) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                        html_string &lt;&lt; <span class="stringliteral">&quot;&lt;td&gt;&lt;img src=&#39;&quot;</span> &lt;&lt; impath &lt;&lt; <span class="stringliteral">&quot;&#39; /&gt;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                        std::stringstream borderstr;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                        borderstr &lt;&lt; <span class="stringliteral">&quot;border: 1px solid &quot;</span> &lt;&lt; ((*validated)[i] &gt; 0 ? <span class="stringliteral">&quot;green&quot;</span> : ((*validated)[i] == 0 ? <span class="stringliteral">&quot;black&quot;</span> : <span class="stringliteral">&quot;red&quot;</span>));</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                        html_string &lt;&lt; <span class="stringliteral">&quot;&lt;td&gt;&lt;img src=&#39;&quot;</span> &lt;&lt; impath &lt;&lt; <span class="stringliteral">&quot;&#39; style=&#39;&quot;</span> &lt;&lt; borderstr.str() &lt;&lt; <span class="stringliteral">&quot;&#39; /&gt;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        html_string &lt;&lt; <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="classMatchesPage.html#a145fbdd474e1ef37ca8ded494e5d2743" title="Returns a string containing the pagename (ex. matches_00001.html)">html_strings</a>.push_back(html_string.str());</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb451523f8e99f8182882dfd2a511972"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string MatchesPage::footer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string containing the html header. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00113">113</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                    {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        std::string footer_str = R<span class="stringliteral">&quot;( 
                                &lt;/body&gt;
                        &lt;/html&gt;
                )&quot;;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="stringliteral">        </span><span class="keywordflow">return</span> footer_str;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c6742d8e6513b3771d1413678147a11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string MatchesPage::header </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string containing css stylesheet. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00102">102</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                    {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        std::string header_str = R<span class="stringliteral">&quot;( 
                        &lt;html&gt;
                                &lt;head&gt;
                                        &lt;link rel=&#39;stylesheet&#39; type=&#39;text/css&#39; href=&#39;)&quot; + <a class="code" href="matches__page_8cxx.html#a4118bc2c6d1eda0386db89e89f8990dd">s_stylesheet_name</a> + R</span><span class="stringliteral">&quot;(&#39; /&gt;
                                &lt;/head&gt;
                                &lt;body&gt;
                )&quot;;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="stringliteral">        </span><span class="keywordflow">return</span> header_str;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9629dc607640bcda4c71097e50aac98c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string MatchesPage::navbar </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cur_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string containing the html footer. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00121">121</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                                                         {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        std::stringstream navbar_str;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        navbar_str &lt;&lt; <span class="stringliteral">&quot;&lt;table&gt;&lt;tr&gt;&quot;</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">for</span>(uint32_t i=0; i&lt;max_pages; i++) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                navbar_str &lt;&lt; <span class="stringliteral">&quot;&lt;td&gt;&lt;a href=&#39;&quot;</span> &lt;&lt; <a class="code" href="classMatchesPage.html#a2633c2ff66dea20f3c9fa0fee5541d1f" title="Returns a string containing the navbar needed for pagination.">pagename</a>(i) &lt;&lt; <span class="stringliteral">&quot;&#39;&gt;&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;&lt;/a&gt;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        navbar_str &lt;&lt; <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> navbar_str.str();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2633c2ff66dea20f3c9fa0fee5541d1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string MatchesPage::pagename </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cur_page</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string containing the navbar needed for pagination. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00064">64</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                       {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        std::stringstream current_page_name;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        current_page_name &lt;&lt; <span class="stringliteral">&quot;matches_&quot;</span> &lt;&lt; std::setw(5) &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; cur_page &lt;&lt; <span class="stringliteral">&quot;.html&quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> current_page_name.str();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a254f34e89b0de9ba0ffe126a181f5f98"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string MatchesPage::stylesheet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00070">70</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                        {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        std::string stylesheet_str = R<span class="stringliteral">&quot;( 

                body {
                        margin: 0px;
                        color : #fcfcfc;
                        background: #111;
                        font-size: 14px;
                        font-family: sans-serif;
                }

                table {
                        margin: 5px;
                        border: 2px solid #fcfcfc;
                        border-spacing: 0;
                    border-collapse: collapse;
                }

                a { 
                        color: #fff;
                        text-decoration: none;
                        font-weight: bold;
                }

                img {
                        height: 120px;
                }

                )&quot;;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="stringliteral">        </span><span class="keywordflow">return</span> stylesheet_str;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6899a6eba95103363da7a6fc9f5c2ae9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatchesPage::write </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>folder</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes out all the html match mages to the input specified folder. </p>
<p>The first page will look something like folder/matches_00000.html. </p>

<p>Definition at line <a class="el" href="matches__page_8cxx_source.html#l00040">40</a> of file <a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a>.</p>

<p>References <a class="el" href="filesystem_8cxx_source.html#l00017">filesystem::create_file_directory()</a>, <a class="el" href="filesystem_8cxx_source.html#l00012">filesystem::file_exists()</a>, <a class="el" href="matches__page_8cxx_source.html#l00113">footer()</a>, <a class="el" href="matches__page_8cxx_source.html#l00102">header()</a>, <a class="el" href="matches__page_8hpp_source.html#l00039">html_strings</a>, <a class="el" href="matches__page_8hpp_source.html#l00041">max_images_per_match_</a>, <a class="el" href="matches__page_8hpp_source.html#l00041">max_matches_per_page_</a>, <a class="el" href="matches__page_8cxx_source.html#l00121">navbar()</a>, <a class="el" href="matches__page_8cxx_source.html#l00064">pagename()</a>, <a class="el" href="matches__page_8cxx_source.html#l00008">s_stylesheet_name</a>, <a class="el" href="matches__page_8cxx_source.html#l00070">stylesheet()</a>, and <a class="el" href="filesystem_8cxx_source.html#l00106">filesystem::write_text()</a>.</p>

<p>Referenced by <a class="el" href="bench__search_8cxx_source.html#l00027">bench_oxford()</a>, <a class="el" href="bench__all_8cxx_source.html#l00125">benchmark_dataset()</a>, and <a class="el" href="vocab__tree__simple_8cxx_source.html#l00012">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                     {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="namespacefilesystem.html#a1d10e228c7c784ffc2e9c3c5bfc0dd11" title="Returns true if file exists at location, else returns false.">filesystem::file_exists</a>(folder)) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                <a class="code" href="namespacefilesystem.html#a7df468aa6576b318ff9c3f97cfa93312" title="Recursively creates all directories if needed up to the specified file.">filesystem::create_file_directory</a>(folder + <span class="stringliteral">&quot;/index.html&quot;</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="comment">// style sheet</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keyword">const</span> std::string stylesheet_string = this-&gt;<a class="code" href="classMatchesPage.html#a254f34e89b0de9ba0ffe126a181f5f98">stylesheet</a>();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="namespacefilesystem.html#abbd822ce1a5abf780217e390c7aafb13" title="Writes a text file to the input file location given the input string.">filesystem::write_text</a>(folder + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="matches__page_8cxx.html#a4118bc2c6d1eda0386db89e89f8990dd">s_stylesheet_name</a>, stylesheet_string);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="classMatchesPage.html#a145fbdd474e1ef37ca8ded494e5d2743" title="Returns a string containing the pagename (ex. matches_00001.html)">html_strings</a>.size(); i+=<a class="code" href="classMatchesPage.html#ad2026dec02840e7a1806a5d25350833b" title="Holds the html strings for each match passed into add_match.">max_matches_per_page_</a>) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                uint32_t cur_page = i / <a class="code" href="classMatchesPage.html#aea1d37e2deb0b543486a62fd74327295">max_images_per_match_</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                std::stringstream current_page_str;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                current_page_str &lt;&lt; <a class="code" href="classMatchesPage.html#a2c6742d8e6513b3771d1413678147a11" title="Returns a string containing css stylesheet.">header</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                current_page_str &lt;&lt; <a class="code" href="classMatchesPage.html#a9629dc607640bcda4c71097e50aac98c" title="Returns a string containing the html footer.">navbar</a>(cur_page, <a class="code" href="classMatchesPage.html#a145fbdd474e1ef37ca8ded494e5d2743" title="Returns a string containing the pagename (ex. matches_00001.html)">html_strings</a>.size() / <a class="code" href="classMatchesPage.html#ad2026dec02840e7a1806a5d25350833b" title="Holds the html strings for each match passed into add_match.">max_matches_per_page_</a> + 1);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> j=i; j&lt;MIN(<a class="code" href="classMatchesPage.html#a145fbdd474e1ef37ca8ded494e5d2743" title="Returns a string containing the pagename (ex. matches_00001.html)">html_strings</a>.size(), i+<a class="code" href="classMatchesPage.html#ad2026dec02840e7a1806a5d25350833b" title="Holds the html strings for each match passed into add_match.">max_matches_per_page_</a>); j++) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                        current_page_str &lt;&lt; <a class="code" href="classMatchesPage.html#a145fbdd474e1ef37ca8ded494e5d2743" title="Returns a string containing the pagename (ex. matches_00001.html)">html_strings</a>[j];</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                current_page_str &lt;&lt; <a class="code" href="classMatchesPage.html#acb451523f8e99f8182882dfd2a511972" title="Returns a string containing the html header.">footer</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <a class="code" href="namespacefilesystem.html#abbd822ce1a5abf780217e390c7aafb13" title="Writes a text file to the input file location given the input string.">filesystem::write_text</a>(folder + <span class="stringliteral">&quot;/&quot;</span> + this-&gt;<a class="code" href="classMatchesPage.html#a2633c2ff66dea20f3c9fa0fee5541d1f" title="Returns a string containing the navbar needed for pagination.">pagename</a>(cur_page), current_page_str.str());</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a145fbdd474e1ef37ca8ded494e5d2743"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; MatchesPage::html_strings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string containing the pagename (ex. matches_00001.html) </p>

<p>Definition at line <a class="el" href="matches__page_8hpp_source.html#l00039">39</a> of file <a class="el" href="matches__page_8hpp_source.html">matches_page.hpp</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00019">add_match()</a>, and <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>

</div>
</div>
<a class="anchor" id="aea1d37e2deb0b543486a62fd74327295"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t MatchesPage::max_images_per_match_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="matches__page_8hpp_source.html#l00041">41</a> of file <a class="el" href="matches__page_8hpp_source.html">matches_page.hpp</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00019">add_match()</a>, <a class="el" href="matches__page_8cxx_source.html#l00010">MatchesPage()</a>, and <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2026dec02840e7a1806a5d25350833b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t MatchesPage::max_matches_per_page_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the html strings for each match passed into add_match. </p>

<p>Definition at line <a class="el" href="matches__page_8hpp_source.html#l00041">41</a> of file <a class="el" href="matches__page_8hpp_source.html">matches_page.hpp</a>.</p>

<p>Referenced by <a class="el" href="matches__page_8cxx_source.html#l00010">MatchesPage()</a>, and <a class="el" href="matches__page_8cxx_source.html#l00040">write()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/psastras/vocabtree/modules/vis/<a class="el" href="matches__page_8hpp_source.html">matches_page.hpp</a></li>
<li>/home/psastras/vocabtree/modules/vis/<a class="el" href="matches__page_8cxx_source.html">matches_page.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMatchesPage.html">MatchesPage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
